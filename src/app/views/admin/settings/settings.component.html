<section class="tw-flex tw-flex-col tw-flex-1 tw-w-full">
    <app-breadcrumb title="Store settings" subtitle="Manage store preferences" [actionButtonRef]="deleteButton">
    </app-breadcrumb>
    <form [formGroup]="form" action="" class="tw-flex tw-flex-col tw-gap-4">
        <div class="md:tw-grid md:tw-grid-cols-3 tw-gap-8 max-md:tw-flex max-md:tw-flex-col">
            <app-input class="tw-w-full" [formGroupRef]="form" formControlName="name" ngDefaultControl id="settingsName"
                label="Store Name" type="text" [autofocus]="true"></app-input>
            <app-input class="tw-w-full" [formGroupRef]="form" formControlName="web" ngDefaultControl
                id="settingsWebsite" label="Website" type="text"></app-input>
        </div>
        <app-button label="Save changes" [onClick]="handleSubmit" type="submit"
            customClasses="!tw-bg-black !tw-text-white tw-w-max tw-px-4 disabled:tw-opacity-100" [disabled]="isSaving">
        </app-button>
    </form>
    <div class="tw-w-full tw-my-5">
        <app-api-route [route]="route()"></app-api-route>
    </div>
</section>

<ng-template #deleteButton>
    <button class="
        tw-flex 
        tw-items-center 
        tw-justify-center 
        tw-rounded-lg 
        tw-w-10 
        tw-h-10 
        tw-text-white 
        tw-bg-rose-600
        tw-transition-all
        tw-duration-200
        hover:tw-bg-opacity-80
        active:tw-scale-95
        " (click)="handleDelete()">
        <mat-icon class="tw-text-xl tw-leading-tight tw-font-light" fontIcon="delete_outline"></mat-icon>
    </button>
</ng-template>

<section *ngIf="isLoading"
    class="tw-fixed tw-inset-0 tw-w-screen tw-h-screen tw-flex tw-items-center tw-justify-center">
    <app-loading class="tw-w-full tw-h-full" label="Deleting store..."></app-loading>
</section>