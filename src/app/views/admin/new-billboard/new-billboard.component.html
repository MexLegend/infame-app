<section class="tw-flex tw-flex-col tw-flex-1 tw-w-full">
    <app-breadcrumb [title]="action + ' billboard'"
        [subtitle]="action === 'Create' ? 'Add a new billboard' : 'Edit a billboard'">
    </app-breadcrumb>

    <form [formGroup]="form" class="
        tw-flex
        tw-flex-col 
        tw-gap-4
        tw-justify-start
        tw-items-center
        tw-self-center
        tw-rounded-xl 
        tw-bg-white
        tw-w-full
        tw-max-w-[800px]
        tw-px-5
        tw-py-8
        tw-border
        tw-transition
        tw-duration-200
        ">
        <div class="tw-flex tw-flex-col tw-items-center tw-gap-7 tw-mt-3 tw-w-full tw-max-w-[700px]">

            <div class="
                    tw-flex 
                    tw-w-full 
                    tw-gap-6 
                    tw-items-center 
                    tw-py-6 
                    tw-px-4 
                    tw-border-2 
                    tw-border-[rgb(212,212,212)] 
                    tw-rounded-xl" formGroupName="image">
                <img class="tw-w-40 tw-h-24 tw-rounded-lg tw-aspect-square tw-object-cover"
                    [src]="form.value.image?.url | img" alt="billboard_img">
                <div class="tw-flex tw-flex-1 tw-flex-col tw-gap-1">
                    <app-upload-widget [options]="cloudinaryWidgetOptions" [onOpen]="openCloudinaryWidget"
                        (onUpload)="onImageUpload($event)">
                    </app-upload-widget>
                    <app-button class="tw-w-full"
                        [label]="(form.value.image?.url ? 'Update' : 'Upload') + ' billboard picture'" type="button"
                        customClasses="!tw-text-white !tw-bg-black tw-w-max tw-px-4 !tw-py-2"
                        (click)="handleOpenCloudinaryWidget()">
                    </app-button>
                    <span class="tw-text-sm">Must be JPEG, PNG, or GIF and cannot exceed 4MB.</span>
                </div>
            </div>

            <app-input class="tw-w-full" [formGroupRef]="form" formControlName="label" ngDefaultControl
                id="billboardLabel" label="Billboard Label" type="text" [autofocus]="true">
            </app-input>

            <app-textarea class="tw-w-full" [formGroupRef]="form" formControlName="description" ngDefaultControl
                id="billboardDescription" label="Billboard Phrase" [rows]="4">
            </app-textarea>

            <app-button class="tw-w-full" label="Create" type="submit"
                customClasses="!tw-bg-black !tw-text-white disabled:tw-opacity-100" [disabled]="form.invalid"
                (click)="!isLoading && handleSubmit()"></app-button>

        </div>
    </form>
</section>